function start(){var n=document.getElementById("board");if(!n.getContext||!n.getContext("2d"))$("#game").toggle(),$("#notSupported").toggle();else{board=new Board(n),game=new Game(board);game.onLog(function(n){return $("#log").append(n+" ")});game.startNewGame(),board.draw()}}var board=null,game=null,canvas;$(function(){start(null),$("#board").click(function(n){var t=n.pageX-$(n.srcElement).position().left,i=n.pageY-$(n.srcElement).position().top;game.action(t,i)}),$("#cmdReset").click(function(){confirm("Are you sure?")&&(start(null),alert("Reset!"))})}),$(window).resize(function(){board!=null&&board.draw()})